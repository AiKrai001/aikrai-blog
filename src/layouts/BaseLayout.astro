---
import BaseHead from '../components/BaseHead.astro';
import Sidebar from '../components/Sidebar.astro';
import TopBar from '../components/TopBar.astro';
import Footer from '../components/Footer.astro';
import ThemeScript from '../components/ThemeScript.astro';

export interface Props {
  title: string;
  description: string;
  image?: string;
}

const { title, description, image } = Astro.props;
---

<!doctype html>
<html lang="zh-CN">
  <head>
    <BaseHead title={title} description={description} />
  </head>
  <body>
    <div id="app">
      <!-- 侧边栏 -->
      <Sidebar />
      
      <!-- 主内容区域 -->
      <div id="main-wrapper">
        <!-- 顶部导航栏 -->
        <TopBar />
        
        <!-- 主内容 -->
        <main id="main" role="main">
          <slot />
        </main>
        
        <!-- 页脚 -->
        <Footer />
      </div>
    </div>
    
    <!-- 主题切换脚本 -->
    <ThemeScript />
  </body>
</html>

<style>
  :global(html) {
    scroll-behavior: smooth;
  }

  :global(body) {
    margin: 0;
    padding: 0;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    line-height: 1.6;
    color: var(--text-color);
    background-color: var(--bg-color);
    transition: color 0.3s ease, background-color 0.3s ease;
  }

  #app {
    display: flex;
    min-height: 100vh;
  }

  #main-wrapper {
    flex: 1;
    display: flex;
    flex-direction: column;
    margin-left: var(--sidebar-width);
    transition: margin-left 0.3s ease;
  }

  #main {
    flex: 1;
    padding: 2rem;
    max-width: 100%;
  }

  /* 响应式设计 */
  @media (max-width: 1199px) {
    #main-wrapper {
      margin-left: 0;
    }
  }

  @media (max-width: 768px) {
    #main {
      padding: 1rem;
    }
  }
</style>